<!DOCTYPE html>
<html>
<head>
    <title>Tezab Gold Report</title>
    <link rel="stylesheet" href="/static/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        @media print {
            .no-print { display: none; }
        }
        .section-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 10px;
            border-radius: 5px;
            margin-top: 20px;
            margin-bottom: 10px;
        }
        .ratti-highlight {
            background-color: #fff3cd;
            font-weight: bold;
            color: #856404;
        }
    </style>
    <script>
        function printPage() {
            window.print();
        }
    </script>
</head>
<body class="p-4 bg-light">
    <div class="container bg-white border p-4 shadow-lg rounded">
        <h3 class="text-center text-warning fw-bold">âœ¨ Tezab Gold Testing Premium Report âœ¨</h3>
        <hr>

        <!-- Basic Information -->
        <h5 class="section-header">ğŸ“‹ Basic Information</h5>
        <table class="table table-bordered">
            <tr><th width="40%">ğŸ§¾ Serial No</th><td>{{ data.serial_no }}</td></tr>
            <tr><th>ğŸ‘¤ Client</th><td>{{ data.client_name }}</td></tr>
            <tr><th>ğŸ“† Date & Time</th><td>{{ data.date_time }}</td></tr>
            <tr><th>ğŸ’° Gold Rate</th><td>Rs. {{ '{:,.0f}'.format(data.gold_rate_tola) }} per Tola (Rs. {{ '%.2f' % data.gold_rate_gram }} per gram)</td></tr>
        </table>

        <!-- Test Results -->
        <h5 class="section-header">âš–ï¸ Test Results</h5>
        <table class="table table-bordered table-striped">
            {% for key, value in extra_data.items() %}
            <tr {% if 'Ratti Difference' in key %}class="ratti-highlight"{% endif %}>
                <th width="40%">{{ key }}</th>
                <td><strong>{{ value }}</strong></td>
            </tr>
            {% endfor %}
        </table>

        <!-- Purity -->
        <h5 class="section-header">ğŸ’ Purity Analysis</h5>
        <table class="table table-bordered">
            <tr><th width="40%">ğŸŒŸ Purity</th><td class="fw-bold text-success">{{ '%.2f' % data.purity }}%</td></tr>
            <tr><th>ğŸ‘‘ Karat</th><td class="fw-bold">{{ '%.2f' % data.karat }}K / 24K</td></tr>
        </table>

        <!-- Financial -->
        <h5 class="section-header">ğŸ’° Financial Details</h5>
        <table class="table table-bordered">
            <tr><th width="40%">ğŸ’° Estimated Value</th><td class="fw-bold text-primary">Rs. {{ '{:,.2f}'.format(data.estimated_value) }}</td></tr>
            <tr><th>ğŸ§¾ Testing Fee</th><td>Rs. 200</td></tr>
        </table>

        <p class="text-end mt-4 text-muted">âœ… Thank you for choosing <b>Tezab Gold Testing</b></p>

        <div class="text-center mt-4 no-print">
            <button onclick="printPage()" class="btn btn-success btn-lg">
                ğŸ–¨ï¸ Print Report
            </button>
            <a href="/" class="btn btn-secondary btn-lg ms-2">
                ğŸ  New Test
            </a>
        </div>
    </div>
</body>
</html>
